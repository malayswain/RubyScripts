def recurse_test string, arr = []
  return nil if string.length == 0
  arr << string.slice!(string.length-1)
  recurse_test(string,arr)
  return arr
end

def recurse_time(time,arr=[])
  return arr if time > Time.now+0.5  # => false, false, false, false, false, false, true
  arr << time                        # => [2017-02-19 23:48:54 +0530],                                                                                                                                        [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530],                                                                                                             [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530],                                                                                  [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530],                                                       [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530],                            [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530,...
  recurse_time(time+0.1,arr)         # => [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530,...
  return arr                         # => [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530], [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530,...
end                                  # => :recurse_time

puts Time.now                 # => nil
print recurse_time(Time.now)  # => nil

# >> 2017-02-19 23:48:54 +0530
# >> [2017-02-19 23:48:54 +0530, 2017-02-19 23:48:54 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530, 2017-02-19 23:48:55 +0530]
